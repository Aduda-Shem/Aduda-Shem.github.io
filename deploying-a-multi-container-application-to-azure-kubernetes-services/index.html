<!DOCTYPE html>
<html lang="en" class="dark-mode">
<head>

    <title>Deploying a multi-container application to Azure Kubernetes Services</title>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <link rel="preload" as="style" href="../assets/built/screen.css%3Fv=80e11cb79d.css" />
    <link rel="preload" as="script" href="../assets/built/casper.js%3Fv=80e11cb79d" />

    <link rel="stylesheet" type="text/css" href="../assets/built/screen.css%3Fv=80e11cb79d.css" />

    <link rel="icon" href="../content/images/size/w256h256/format/png/2023/09/logo-1-2.webp" type="image/png">
    <link rel="canonical" href="index.html">
    <meta name="referrer" content="no-referrer-when-downgrade">
    
    <meta property="og:site_name" content="pwnresist(ad3da)....Tech Space">
    <meta property="og:type" content="article">
    <meta property="og:title" content="Deploying a multi-container application to Azure Kubernetes Services">
    <meta property="og:description" content="Azure Kubernetes Service (AKS) is the quickest way to use Kubernetes on Azure. Azure Kubernetes Service (AKS) manages your hosted Kubernetes environment, making it quick and easy to deploy and manage containerized applications without container orchestration expertise. It also eliminates the burden of ongoing operations and maintenance by provisioning, upgrading,">
    <meta property="og:url" content="http://localhost:2368/deploying-a-multi-container-application-to-azure-kubernetes-services/">
    <meta property="og:image" content="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000">
    <meta property="article:published_time" content="2022-11-22T00:00:00.000Z">
    <meta property="article:modified_time" content="2023-09-17T09:07:43.000Z">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Deploying a multi-container application to Azure Kubernetes Services">
    <meta name="twitter:description" content="Azure Kubernetes Service (AKS) is the quickest way to use Kubernetes on Azure. Azure Kubernetes Service (AKS) manages your hosted Kubernetes environment, making it quick and easy to deploy and manage containerized applications without container orchestration expertise. It also eliminates the burden of ongoing operations and maintenance by provisioning, upgrading,">
    <meta name="twitter:url" content="http://localhost:2368/deploying-a-multi-container-application-to-azure-kubernetes-services/">
    <meta name="twitter:image" content="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000">
    <meta name="twitter:label1" content="Written by">
    <meta name="twitter:data1" content="Aduda Shem ">
    <meta name="twitter:site" content="@aduda_shem">
    <meta property="og:image:width" content="2000">
    <meta property="og:image:height" content="1333">
    
    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Article",
    "publisher": {
        "@type": "Organization",
        "name": "pwnresist(ad3da)....Tech Space",
        "url": "http://localhost:2368/",
        "logo": {
            "@type": "ImageObject",
            "url": "http://localhost:2368/content/images/2023/09/logo-1-3.webp"
        }
    },
    "author": {
        "@type": "Person",
        "name": "Aduda Shem ",
        "url": "http://localhost:2368/author/aduda/",
        "sameAs": []
    },
    "headline": "Deploying a multi-container application to Azure Kubernetes Services",
    "url": "http://localhost:2368/deploying-a-multi-container-application-to-azure-kubernetes-services/",
    "datePublished": "2022-11-22T00:00:00.000Z",
    "dateModified": "2023-09-17T09:07:43.000Z",
    "image": {
        "@type": "ImageObject",
        "url": "https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop=entropy&cs=tinysrgb&fit=max&fm=jpg&ixid=M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&ixlib=rb-4.0.3&q=80&w=2000",
        "width": 2000,
        "height": 1333
    },
    "description": "\nAzure Kubernetes Service (AKS) is the quickest way to use Kubernetes on Azure. Azure Kubernetes Service (AKS) manages your hosted Kubernetes environment, making it quick and easy to deploy and manage containerized applications without container orchestration expertise. It also eliminates the burden of ongoing operations and maintenance by provisioning, upgrading, and scaling resources on demand, without taking your applications offline. Azure DevOps helps in creating Docker images for faster de",
    "mainEntityOfPage": "http://localhost:2368/deploying-a-multi-container-application-to-azure-kubernetes-services/"
}
    </script>

    <meta name="generator" content="Ghost 5.63">
    <link rel="alternate" type="application/rss+xml" title="pwnresist(ad3da)....Tech Space" href="../rss/index.html">
    
    <script defer src="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/sodo-search.min.js" data-key="68ebed608bc1c8fed56f792537" data-styles="https://cdn.jsdelivr.net/ghost/sodo-search@~1.1/umd/main.css" data-sodo-search="http://localhost:2368/" crossorigin="anonymous"></script>
    
    <link href="http://localhost:2368/webmentions/receive/" rel="webmention">
    <script defer src="../public/cards.min.js%3Fv=80e11cb79d"></script><style>:root {--ghost-accent-color: #161314;}</style>
    <link rel="stylesheet" type="text/css" href="../public/cards.min.css%3Fv=80e11cb79d.css">

</head>
<body class="post-template is-head-middle-logo has-serif-title has-cover">
<div class="viewport">

    <header id="gh-head" class="gh-head outer">
        <div class="gh-head-inner inner">
            <div class="gh-head-brand">
                <a class="gh-head-logo" href="../index.html">
                        <img src="../content/images/2023/09/logo-1-3.webp" alt="pwnresist(ad3da)....Tech Space">
                </a>
                <button class="gh-search gh-icon-btn" aria-label="Search this site" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
                <button class="gh-burger"></button>
            </div>

            <nav class="gh-head-menu">
                <ul class="nav">
    <li class="nav-home"><a href="../index.html">üåêHome.</a></li>
    <li class="nav-about"><a href="../whoami/index.html">About.</a></li>
    <li class="nav-tech-path"><a href="../stack/index.html">Tech Path üöÄ</a></li>
</ul>

            </nav>

            <div class="gh-head-actions">
                        <button class="gh-search gh-icon-btn" data-ghost-search><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2" width="20" height="20"><path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg></button>
            </div>
        </div>
    </header>

    <div class="site-content">
        



<main id="site-main" class="site-main">
<article class="article post image-small">

    <header class="article-header gh-canvas">

        <div class="article-tag post-card-tags">
        </div>

        <h1 class="article-title">Deploying a multi-container application to Azure Kubernetes Services</h1>


        <div class="article-byline">
        <section class="article-byline-content">

            <ul class="author-list">
                <li class="author-list-item">
                    <a href="../author/aduda/index.html" class="author-avatar author-profile-image"><svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd"><path d="M3.513 18.998C4.749 15.504 8.082 13 12 13s7.251 2.504 8.487 5.998C18.47 21.442 15.417 23 12 23s-6.47-1.558-8.487-4.002zM12 12c2.21 0 4-2.79 4-5s-1.79-4-4-4-4 1.79-4 4 1.79 5 4 5z" fill="#FFF"/></g></svg>
</a>
                </li>
            </ul>

            <div class="article-byline-meta">
                <h4 class="author-name"><a href="../author/aduda/index.html">Aduda Shem </a></h4>
                <div class="byline-meta-content">
                    <time class="byline-meta-date" datetime="2022-11-22">Nov 22, 2022</time>
                        <span class="byline-reading-time"><span class="bull">&bull;</span> 6 min read</span>
                </div>
            </div>

        </section>
        </div>

            <figure class="article-image">
                <img
                    srcset="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;300 300w,
                            https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600 600w,
                            https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1000 1000w,
                            https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
                    sizes="(min-width: 1400px) 1400px, 92vw"
                    src="https://images.unsplash.com/photo-1488590528505-98d2b5aba04b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDV8fGRldnN8ZW58MHx8fHwxNjk0OTQxNDg0fDA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000"
                    alt="Deploying a multi-container application to Azure Kubernetes Services"
                />
                    <figcaption>Photo by <a href="https://unsplash.com/@lucabravo?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Luca Bravo</a> / <a href="https://unsplash.com/?utm_source=ghost&utm_medium=referral&utm_campaign=api-credit">Unsplash</a></figcaption>
            </figure>

    </header>

    <section class="gh-content gh-canvas">
        <p><br><a href="https://azure.microsoft.com/en-us/services/kubernetes-service/?ref=localhost"><strong><strong>Azure Kubernetes Service (AKS)</strong></strong></a> is the quickest way to use Kubernetes on Azure. <strong><strong>Azure Kubernetes Service (AKS)</strong></strong> manages your hosted Kubernetes environment, making it quick and easy to deploy and manage containerized applications without container orchestration expertise. It also eliminates the burden of ongoing operations and maintenance by provisioning, upgrading, and scaling resources on demand, without taking your applications offline. Azure DevOps helps in creating Docker images for faster deployments and reliability using the continuous build option.</p><h3 id="lab-scenario"><em><em><strong><strong>Lab Scenario</strong></strong></em></em></h3><p>This lab uses a Dockerized ASP.NET Core web application - <strong><strong>MyHealthClinic</strong></strong> (MHC) and is deployed to a <strong><strong>Kubernetes</strong></strong> cluster running on <strong><strong>Azure Kubernetes Service (AKS)</strong></strong> using <strong><strong>Azure DevOps</strong></strong>.</p><blockquote><em><em><strong><strong>mhc-aks.yaml</strong></strong> ¬†<strong><strong>Load Balancer</strong></strong> ¬†<strong><strong>Redis Cache</strong></strong></em></em></blockquote><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/AKS-workflow.gif" class="kg-image" alt loading="lazy" width="1161" height="653"></figure><p>Click the <a href="http://azuredevopsdemogenerator.azurewebsites.net/?TemplateId=77372&Name=AKS&ref=localhost">Azure DevOps Demo Generator</a> link and follow the instructions in <a href="https://www.azuredevopslabs.com/labs/vstsextend/Setup/?ref=localhost">Getting Started</a> page to provision the project to your <strong><strong>Azure DevOps</strong></strong>.</p><p>For this lab the <strong><strong>Azure Kubernetes Service</strong></strong> template is used which is already selected when you click on the link above. There are some additional extensions required for this lab and can be automatically installed during the process.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/A.png" class="kg-image" alt loading="lazy" width="1362" height="636"></figure><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/B.png" class="kg-image" alt loading="lazy" width="1364" height="632"></figure><ol><li>Launch the <a href="https://docs.microsoft.com/en-in/azure/cloud-shell/overview?ref=localhost">Azure Cloud Shell</a> from the Azure portal and choose <strong><strong>Bash</strong></strong>.</li></ol><p><strong><strong>Deploy Kubernetes to Azure, using CLI</strong></strong>:</p><p>i. Get the latest available Kubernetes version in your preferred region into a bash variable. Replace <code>&lt;region&gt;</code> with the region of your choosing, "eastus".</p><pre><code>version=$(az aks get-versions -l eastus --query 'orchestrators[-1].orchestratorVersion' -o tsv)
</code></pre><p>ii. Create a Resource Group</p><pre><code>  az group create --name akshandsonlab --location eastus
</code></pre><p>iii. Create AKS using the latest version available</p><pre><code> az aks create --resource-group akshandsonlab --name akspwnresist --enable-addons monitoring --kubernetes-version $version --generate-ssh-keys --location eastus</code></pre><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/C.png" class="kg-image" alt loading="lazy" width="1364" height="502"></figure><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/E.png" class="kg-image" alt loading="lazy" width="1366" height="629"></figure><p><strong><strong>Deploy Azure Container Registry(ACR)</strong></strong>:</p><pre><code> az acr create --resource-group akshandsonlab --name pwnresistmhc --sku Standard --location eastus</code></pre><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/F.png" class="kg-image" alt loading="lazy" width="1366" height="639"></figure><p><em><em><strong><strong>Authenticate with Azure Container Registry from Azure Kubernetes Service</strong></strong></em></em></p><pre><code>az aks update -n akspwnresist -g akshansonlab --attach-acr pwnresistmhc</code></pre><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/G.png" class="kg-image" alt loading="lazy" width="1366" height="634"></figure><p><em><em><strong><strong>Create Azure SQL server and Database</strong></strong>:</em></em></p><pre><code> az sql server create -l eastus -g akshandsonlab -n sqlsvrpwnresist -u sqladmin -p P2ssw0rd1234
</code></pre><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/H.png" class="kg-image" alt loading="lazy" width="1364" height="547"></figure><p><strong><strong><em><em>Create a database</em></em></strong></strong></p><pre><code> az sql db create -g akshandsonlab -s sqlsvrpwnresist -n mhcdb --service-objective S0</code></pre><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/I.png" class="kg-image" alt loading="lazy" width="1364" height="554"></figure><p>The following components - <strong><strong>Container Registry</strong></strong>, <strong><strong>Kubernetes Service</strong></strong>, <strong><strong>SQL Server</strong></strong> along with <strong><strong>SQL Database</strong></strong> are deployed. Access each of these components individually and make a note of the details which will be used in Exercise 1.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/J.png" class="kg-image" alt loading="lazy" width="1357" height="631"></figure><p>Select the <strong><strong>mhcdb</strong></strong> SQL database and make a note of the <strong><strong>Server name</strong></strong>.</p><p>Click on ‚ÄúSet server Firewall‚Äù and enable ‚ÄúAllow Azure services ‚Ä¶‚Äù option.</p><p>Navigate to the resource group, select the created container registry and make a note of the <strong><strong>Login server</strong></strong> name.</p><h2 id="configure-build-pipeline"><strong><strong><strong><strong>Configure Build pipeline</strong></strong></strong></strong></h2><ol><li>Navigate to <strong><strong>Pipelines ‚Äì&gt; Pipelines</strong></strong>.</li><li>Select <strong><strong>MyHealth.AKS.Build</strong></strong> pipeline and click <strong><strong>Edit</strong></strong>.</li></ol><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/L.png" class="kg-image" alt loading="lazy" width="1366" height="633"></figure><p>In <strong><strong>Run services</strong></strong> task, select your Azure subscription from <strong><strong>Azure subscription</strong></strong> dropdown. Click <strong><strong>Authorize</strong></strong>.</p><p>Following the successful authentication, select appropriate values from the dropdown - <strong><strong>Azure subscription</strong></strong> and <strong><strong>Azure Container Registry</strong></strong> as shown.</p><p>Repeat this for the <strong><strong>Build services, Push services</strong></strong> and <strong><strong>Lock services</strong></strong> tasks in the pipeline.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/M.png" class="kg-image" alt loading="lazy" width="1360" height="633"></figure><p><strong><strong>applicationsettings.json</strong></strong> file contains details of the database connection string used to connect to Azure database which was created in the beginning of this lab.</p><blockquote><em><em><strong><strong>mhc-aks.yaml</strong></strong> ¬†<strong><strong>deployments</strong></strong> <strong><strong>services</strong></strong> ¬†<strong><strong>pods</strong></strong></em></em></blockquote><p>Click on the <strong><strong>Variables</strong></strong> tab.</p><p>Update <strong><strong>ACR</strong></strong> and <strong><strong>SQLserver</strong></strong> values for <strong><strong>Pipeline Variables</strong></strong> with the details noted earlier while configuring the environment.</p><p><strong><strong>Save</strong></strong> the changes.</p><h2 id="configure-build-pipeline-yamloptional"><strong><strong><strong><strong>Configure Build pipeline (YAML) -Optional</strong></strong></strong></strong></h2><p>We also have a YAML build pipeline if that‚Äôs something you‚Äôre interested in. To proceed through the YAML pipeline, choose <strong><strong>MyHealth.AKS.Build-YAML</strong></strong> and click <strong><strong>Edit</strong></strong>. If you utilize the YAML pipeline, make sure to update the <strong><strong>MyHealth.AKS.Release</strong></strong> release definition‚Äôs artifact link.</p><ol><li>Navigate to <strong><strong>Pipelines ‚Äì&gt; Pipelines</strong></strong>.</li></ol><p>2. Select <strong><strong>MyHealth.AKS.Build - YAML</strong></strong> pipeline and click <strong><strong>Edit</strong></strong>.</p><p>3. In <strong><strong>Run Services</strong></strong> task, select <strong><strong>settings</strong></strong>. Select your <strong><strong>Azure subscription</strong></strong> from Azure subscription dropdown. Click <strong><strong>Authorize</strong></strong>.</p><p>4. Following the successful authentication, select appropriate values from the dropdown - <strong><strong>Azure subscription</strong></strong> and <strong><strong>Azure Container Registry</strong></strong> as shown and click <strong><strong>Add</strong></strong>.</p><p>Repeat this for the <strong><strong>Build services</strong></strong>, <strong><strong>Push services</strong></strong> and <strong><strong>Lock services</strong></strong> tasks in the pipeline.</p><p>5. Click on the <strong><strong>Variables</strong></strong> tab.</p><p>6. Update <strong><strong>ACR</strong></strong> and <strong><strong>SQLserver</strong></strong> values for Pipeline Variables with the details noted earlier while configuring the environment.</p><h2 id="configure-release-pipeline"><strong><strong><strong><strong>Configure Release pipeline</strong></strong></strong></strong></h2><ol><li>Navigate to <strong><strong>Pipelines | Releases</strong></strong>. Select <strong><strong>MyHealth.AKS.Release</strong></strong> pipeline and click <strong><strong>Edit</strong></strong>.</li></ol><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/P.png" class="kg-image" alt loading="lazy" width="1365" height="630"></figure><p>2. Select Dev stage and click <strong><strong>View stage tasks</strong></strong> to view the pipeline tasks.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/O.png" class="kg-image" alt loading="lazy" width="1362" height="628"></figure><p>3. In the <strong><strong>Dev</strong></strong> environment, under the <strong><strong>DB deployment</strong></strong> phase, select <strong><strong>Azure Resource Manager</strong></strong> from the drop down for <strong><strong>Azure Service Connection Type</strong></strong>, update the <strong><strong>Azure Subscription</strong></strong> value from the dropdown for <strong><strong>Execute Azure SQL: DacpacTask</strong></strong> task.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/P-1.png" class="kg-image" alt loading="lazy" width="1365" height="630"></figure><p>4. In the <strong><strong>AKS deployment</strong></strong> phase, select <strong><strong>Create Deployments &amp; Services in AKS</strong></strong> task.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/Q.png" class="kg-image" alt loading="lazy" width="541" height="207"></figure><p>Update the <strong><strong>Azure Subscription</strong></strong>, <strong><strong>Resource Group</strong></strong> and <strong><strong>Kubernetes cluster</strong></strong> from the dropdown. Expand the <strong><strong>Secrets</strong></strong> section and update the parameters for <strong><strong>Azure subscription</strong></strong> and <strong><strong>Azure container registry</strong></strong> from the dropdown.</p><p>Repeat similar steps for <strong><strong>Update image in AKS</strong></strong> task.</p><p>Create Deployments &amp; Services in AKS will create the deployments and services in AKS as per the configuration specified in mhc-aks.yaml file. The Pod, for the first time will pull up the latest docker image.</p><p>Update image in AKS will pull up the appropriate image corresponding to the BuildID from the repository specified, and deploys the docker image to the mhc-front pod running in AKS.</p><p>A secret called mysecretkey is created in AKS cluster through Azure DevOps by using command kubectl create secret in the background. This secret will be used for authorization while pulling myhealth.web image from the Azure Container Registry.</p><p>5. Select the Variables section under the release definition, update ACR and SQLserver values for Pipeline Variables with the details noted earlier while configuring the environment. Select the Save button.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/image.png" class="kg-image" alt loading="lazy" width="946" height="335"></figure><h2 id="trigger-a-build-and-deploy-application"><strong><strong><strong><strong>Trigger a Build and deploy application</strong></strong></strong></strong></h2><p>Let us trigger a build manually and upon completion, an automatic deployment of the application will be triggered. Our application is designed to be deployed in the pod with the <strong><strong>load balancer</strong></strong> in the front-end and <strong><strong>Redis cache</strong></strong> in the back-end.</p><ol><li>Select <strong><strong>MyHealth.AKS.build</strong></strong> pipeline. Click on <strong><strong>Run pipeline</strong></strong></li></ol><p>2. Once the build process starts, select the build job to see the build in progress.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/U.png" class="kg-image" alt loading="lazy" width="1366" height="635"></figure><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/devsec.png" class="kg-image" alt loading="lazy" width="1361" height="634"></figure><p>3. Switch back to the Azure DevOps portal. Select the <strong><strong>Releases</strong></strong> tab in the <strong><strong>Pipelines</strong></strong> section and double-click on the latest release. Select <strong><strong>In progress</strong></strong> link to see the live logs and release summary.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/devsec1.png" class="kg-image" alt loading="lazy" width="1366" height="631"></figure><p>Once the release is complete, launch the <a href="https://docs.microsoft.com/en-in/azure/cloud-shell/overview?ref=localhost">Azure Cloud Shell</a> and run the below commands to see the pods running in AKS</p><p>a). Type <strong><strong><code>az aks get-credentials --resource-group yourResourceGroup --name yourAKSname</code></strong></strong> in the command prompt to get the access credentials for the Kubernetes cluster. Replace the variables <code>yourResourceGroup</code> and <code>yourAKSname</code> with the actual values.</p><p>b). <strong><strong><code>kubectl get pods</code></strong></strong></p><p>c). To access the application, run the below command. If you see that External-IP is pending, wait for sometime until an IP is assigned.</p><p><strong><strong><code>kubectl get service mhc-front --watch</code></strong></strong></p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/devsec2.png" class="kg-image" alt loading="lazy" width="1362" height="626"></figure><p>Copy the <strong><strong>External-IP</strong></strong> and paste it in the browser and press the Enter button to launch the application.</p><figure class="kg-card kg-image-card"><img src="https://aduda-shem.github.io/content/images/2022/11/output.png" class="kg-image" alt loading="lazy" width="1366" height="637"></figure><h2 id="summary"><strong><strong><strong><strong>Summary</strong></strong></strong></strong></h2><p><a href="https://azure.microsoft.com/en-us/services/container-service/?ref=localhost"><strong><strong>Azure Kubernetes Service (AKS)</strong></strong></a> reduces the complexity and operational overhead of managing a Kubernetes cluster by offloading much of that responsibility to the Azure. With <strong><strong>Azure DevOps</strong></strong> and <strong><strong>Azure Container Services (AKS)</strong></strong>, we can build DevOps for dockerized applications by leveraging docker capabilities enabled on Azure DevOps Hosted Agents.</p>
    </section>


</article>
</main>




            <aside class="read-more-wrap outer">
                <div class="read-more inner">
                        
<article class="post-card post">

    <a class="post-card-image-link" href="../untitled/index.html">

        <img class="post-card-image"
            srcset="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDF8fGRqYW5nb3xlbnwwfHx8fDE2OTQ5NDQ1MDl8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;300 300w,
                    https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDF8fGRqYW5nb3xlbnwwfHx8fDE2OTQ5NDQ1MDl8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600 600w,
                    https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDF8fGRqYW5nb3xlbnwwfHx8fDE2OTQ5NDQ1MDl8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1000 1000w,
                    https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDF8fGRqYW5nb3xlbnwwfHx8fDE2OTQ5NDQ1MDl8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="https://images.unsplash.com/photo-1580121441575-41bcb5c6b47c?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDF8fGRqYW5nb3xlbnwwfHx8fDE2OTQ5NDQ1MDl8MA&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600"
            alt="Simplifying Data Imports in Django with Python: The ImportFileOperation Class"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../untitled/index.html">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Simplifying Data Imports in Django with Python: The ImportFileOperation Class
                </h2>
            </header>
                <div class="post-card-excerpt">In Django applications, there often comes a time when you need to handle the bulk import of data, such as importing data from an Excel spreadsheet. To make it easier, there's an ImportFileOperation. This class is designed to handle the import of data from an uploaded file and save it</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2023-09-17">Sep 17, 2023</time>
                <span class="post-card-meta-length">3 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="../implementing-the-excel-file-preview-component/index.html">

        <img class="post-card-image"
            srcset="https://images.unsplash.com/photo-1581276879432-15e50529f34b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDN8fHJlYWN0JTIwfGVufDB8fHx8MTY5NDk0MzM0NXww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;300 300w,
                    https://images.unsplash.com/photo-1581276879432-15e50529f34b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDN8fHJlYWN0JTIwfGVufDB8fHx8MTY5NDk0MzM0NXww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600 600w,
                    https://images.unsplash.com/photo-1581276879432-15e50529f34b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDN8fHJlYWN0JTIwfGVufDB8fHx8MTY5NDk0MzM0NXww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1000 1000w,
                    https://images.unsplash.com/photo-1581276879432-15e50529f34b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDN8fHJlYWN0JTIwfGVufDB8fHx8MTY5NDk0MzM0NXww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="https://images.unsplash.com/photo-1581276879432-15e50529f34b?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDN8fHJlYWN0JTIwfGVufDB8fHx8MTY5NDk0MzM0NXww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600"
            alt="Implementing the Excel File Preview Component"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../implementing-the-excel-file-preview-component/index.html">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    Implementing the Excel File Preview Component
                </h2>
            </header>
                <div class="post-card-excerpt">In this blog post, we'll take a deep dive into a React component -->ExcelFilePreview designed to handle and preview Excel files, enabling users to preview Excel data before deciding to upload it. We'll dissect the code step by step to understand its functionality.


Introduction

The ExcelFilePreview component is built</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2023-09-17">Sep 17, 2023</time>
                <span class="post-card-meta-length">3 min read</span>
        </footer>

    </div>

</article>
                        
<article class="post-card post">

    <a class="post-card-image-link" href="../external-testing/index.html">

        <img class="post-card-image"
            srcset="https://images.unsplash.com/photo-1508921234172-b68ed335b3e6?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDExfHxkZXZzfGVufDB8fHx8MTY5NDk0MTQ4NHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;300 300w,
                    https://images.unsplash.com/photo-1508921234172-b68ed335b3e6?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDExfHxkZXZzfGVufDB8fHx8MTY5NDk0MTQ4NHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600 600w,
                    https://images.unsplash.com/photo-1508921234172-b68ed335b3e6?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDExfHxkZXZzfGVufDB8fHx8MTY5NDk0MTQ4NHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;1000 1000w,
                    https://images.unsplash.com/photo-1508921234172-b68ed335b3e6?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDExfHxkZXZzfGVufDB8fHx8MTY5NDk0MTQ4NHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;2000 2000w"
            sizes="(max-width: 1000px) 400px, 800px"
            src="https://images.unsplash.com/photo-1508921234172-b68ed335b3e6?crop&#x3D;entropy&amp;cs&#x3D;tinysrgb&amp;fit&#x3D;max&amp;fm&#x3D;jpg&amp;ixid&#x3D;M3wxMTc3M3wwfDF8c2VhcmNofDExfHxkZXZzfGVufDB8fHx8MTY5NDk0MTQ4NHww&amp;ixlib&#x3D;rb-4.0.3&amp;q&#x3D;80&amp;w&#x3D;600"
            alt="External Testing"
            loading="lazy"
        />


    </a>

    <div class="post-card-content">

        <a class="post-card-content-link" href="../external-testing/index.html">
            <header class="post-card-header">
                <div class="post-card-tags">
                </div>
                <h2 class="post-card-title">
                    External Testing
                </h2>
            </header>
                <div class="post-card-excerpt">External Information Gathering

Start with a quick initial Nmap scan against our target to get a lay of the land and see what we're dealing with.

sudo nmap --open -oA external_ept_tcp_1k -iL scope 

Starting Nmap 7.92 ( https://nmap.org ) at 2022-06-20 14:56 EDT
Nmap scan</div>
        </a>

        <footer class="post-card-meta">
            <time class="post-card-meta-date" datetime="2023-09-17">Sep 17, 2023</time>
                <span class="post-card-meta-length">14 min read</span>
        </footer>

    </div>

</article>
                </div>
            </aside>



    </div>

    <footer class="site-footer outer">
        <div class="inner">
            <section class="copyright"><a href="../index.html">pwnresist(ad3da)....Tech Space</a> &copy; 2023</section>
            <nav class="site-footer-nav">
                
            </nav>
            <div class="gh-powered-by"><a href="https://ghost.org/" target="_blank" rel="noopener">Powered by Ghost</a></div>
        </div>
    </footer>

</div>

    <div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">
    <div class="pswp__bg"></div>

    <div class="pswp__scroll-wrap">
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <div class="pswp__ui pswp__ui--hidden">
            <div class="pswp__top-bar">
                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
                <button class="pswp__button pswp__button--share" title="Share"></button>
                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                        <div class="pswp__preloader__cut">
                            <div class="pswp__preloader__donut"></div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)"></button>
            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>
        </div>
    </div>
</div>
<script
    src="https://code.jquery.com/jquery-3.5.1.min.js"
    integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
    crossorigin="anonymous">
</script>
<script src="../assets/built/casper.js%3Fv=80e11cb79d"></script>
<script>
$(document).ready(function () {
    // Mobile Menu Trigger
    $('.gh-burger').click(function () {
        $('body').toggleClass('gh-head-open');
    });
    // FitVids - Makes video embeds responsive
    $(".gh-content").fitVids();
});
</script>



</body>
</html>
